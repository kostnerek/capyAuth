<div align="center">
	<img src='https://imgur.com/a/uq9THjH'>
	<h1>CapyAuth</h1>
</div>
**✨Basic microservice for authorization and authentication to your infrastructure✨**
[![forthebadge](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjcuMzciIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCAyMjcuMzcgMzUiPjxyZWN0IGNsYXNzPSJzdmdfX3JlY3QiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS45OSIgaGVpZ2h0PSIzNSIgZmlsbD0iIzRFQTA2NiIvPjxyZWN0IGNsYXNzPSJzdmdfX3JlY3QiIHg9IjkzLjk5IiB5PSIwIiB3aWR0aD0iMTMzLjM4IiBoZWlnaHQ9IjM1IiBmaWxsPSIjOEQ2QjUxIi8+PHBhdGggY2xhc3M9InN2Z19fdGV4dCIgZD0iTTE1LjY5IDIyTDE0LjIyIDIyTDE0LjIyIDEzLjQ3TDE2LjE0IDEzLjQ3TDE4LjYwIDIwLjAxTDIxLjA2IDEzLjQ3TDIyLjk3IDEzLjQ3TDIyLjk3IDIyTDIxLjQ5IDIyTDIxLjQ5IDE5LjE5TDIxLjY0IDE1LjQzTDE5LjEyIDIyTDE4LjA2IDIyTDE1LjU1IDE1LjQzTDE1LjY5IDE5LjE5TDE1LjY5IDIyWk0yOC40OSAyMkwyNi45NSAyMkwzMC4xNyAxMy40N0wzMS41MCAxMy40N0wzNC43MyAyMkwzMy4xOCAyMkwzMi40OSAyMC4wMUwyOS4xOCAyMC4wMUwyOC40OSAyMlpNMzAuODMgMTUuMjhMMjkuNjAgMTguODJMMzIuMDcgMTguODJMMzAuODMgMTUuMjhaTTQxLjE0IDIyTDM4LjY5IDIyTDM4LjY5IDEzLjQ3TDQxLjIxIDEzLjQ3UTQyLjM0IDEzLjQ3IDQzLjIxIDEzLjk3UTQ0LjA5IDE0LjQ4IDQ0LjU3IDE1LjQwUTQ1LjA1IDE2LjMzIDQ1LjA1IDE3LjUyTDQ1LjA1IDE3LjUyTDQ1LjA1IDE3Ljk1UTQ1LjA1IDE5LjE2IDQ0LjU3IDIwLjA4UTQ0LjA4IDIxLjAwIDQzLjE5IDIxLjUwUTQyLjMwIDIyIDQxLjE0IDIyTDQxLjE0IDIyWk00MC4xNyAxNC42Nkw0MC4xNyAyMC44Mkw0MS4xNCAyMC44MlE0Mi4zMCAyMC44MiA0Mi45MyAyMC4wOVE0My41NSAxOS4zNiA0My41NiAxNy45OUw0My41NiAxNy45OUw0My41NiAxNy41MlE0My41NiAxNi4xMyA0Mi45NiAxNS40MFE0Mi4zNSAxNC42NiA0MS4yMSAxNC42Nkw0MS4yMSAxNC42Nkw0MC4xNyAxNC42NlpNNTUuMDkgMjJMNDkuNTEgMjJMNDkuNTEgMTMuNDdMNTUuMDUgMTMuNDdMNTUuMDUgMTQuNjZMNTEuMDAgMTQuNjZMNTEuMDAgMTcuMDJMNTQuNTAgMTcuMDJMNTQuNTAgMTguMTlMNTEuMDAgMTguMTlMNTEuMDAgMjAuODJMNTUuMDkgMjAuODJMNTUuMDkgMjJaTTY4LjM4IDIyTDY1LjI2IDIyTDY1LjI2IDEzLjQ3TDY4LjE5IDEzLjQ3UTY5LjY0IDEzLjQ3IDcwLjM5IDE0LjA1UTcxLjE1IDE0LjYzIDcxLjE1IDE1Ljc4TDcxLjE1IDE1Ljc4UTcxLjE1IDE2LjM2IDcwLjgzIDE2LjgzUTcwLjUxIDE3LjMwIDY5LjkwIDE3LjU2TDY5LjkwIDE3LjU2UTcwLjYwIDE3Ljc1IDcwLjk3IDE4LjI2UTcxLjM1IDE4Ljc4IDcxLjM1IDE5LjUxTDcxLjM1IDE5LjUxUTcxLjM1IDIwLjcxIDcwLjU4IDIxLjM2UTY5LjgxIDIyIDY4LjM4IDIyTDY4LjM4IDIyWk02Ni43NSAxOC4xNUw2Ni43NSAyMC44Mkw2OC4zOSAyMC44MlE2OS4wOSAyMC44MiA2OS40OCAyMC40N1E2OS44OCAyMC4xMyA2OS44OCAxOS41MUw2OS44OCAxOS41MVE2OS44OCAxOC4xOCA2OC41MiAxOC4xNUw2OC41MiAxOC4xNUw2Ni43NSAxOC4xNVpNNjYuNzUgMTQuNjZMNjYuNzUgMTcuMDZMNjguMjAgMTcuMDZRNjguODkgMTcuMDYgNjkuMjggMTYuNzVRNjkuNjcgMTYuNDMgNjkuNjcgMTUuODZMNjkuNjcgMTUuODZRNjkuNjcgMTUuMjMgNjkuMzEgMTQuOTVRNjguOTUgMTQuNjYgNjguMTkgMTQuNjZMNjguMTkgMTQuNjZMNjYuNzUgMTQuNjZaTTc3Ljg2IDE4Ljg2TDc1LjAwIDEzLjQ3TDc2LjY0IDEzLjQ3TDc4LjYxIDE3LjUxTDgwLjU3IDEzLjQ3TDgyLjIxIDEzLjQ3TDc5LjM1IDE4Ljg2TDc5LjM1IDIyTDc3Ljg2IDIyTDc3Ljg2IDE4Ljg2WiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGNsYXNzPSJzdmdfX3RleHQiIGQ9Ik0xMDcuNzUgMTcuODBMMTA3Ljc1IDE3LjgwUTEwNy43NSAxNi41NCAxMDguMzUgMTUuNTRRMTA4Ljk1IDE0LjU1IDExMC4wMCAxMy45OVExMTEuMDUgMTMuNDMgMTEyLjM3IDEzLjQzTDExMi4zNyAxMy40M1ExMTMuNTIgMTMuNDMgMTE0LjQ0IDEzLjg0UTExNS4zNyAxNC4yNSAxMTUuOTggMTUuMDJMMTE1Ljk4IDE1LjAyTDExNC40NyAxNi4zOVExMTMuNjYgMTUuNDAgMTEyLjQ5IDE1LjQwTDExMi40OSAxNS40MFExMTEuODAgMTUuNDAgMTExLjI3IDE1LjcwUTExMC43NCAxNiAxMTAuNDQgMTYuNTRRMTEwLjE1IDE3LjA5IDExMC4xNSAxNy44MEwxMTAuMTUgMTcuODBRMTEwLjE1IDE4LjUxIDExMC40NCAxOS4wNVExMTAuNzQgMTkuNjAgMTExLjI3IDE5LjkwUTExMS44MCAyMC4yMCAxMTIuNDkgMjAuMjBMMTEyLjQ5IDIwLjIwUTExMy42NiAyMC4yMCAxMTQuNDcgMTkuMjJMMTE0LjQ3IDE5LjIyTDExNS45OCAyMC41OFExMTUuMzcgMjEuMzUgMTE0LjQ1IDIxLjc2UTExMy41MiAyMi4xNyAxMTIuMzcgMjIuMTdMMTEyLjM3IDIyLjE3UTExMS4wNSAyMi4xNyAxMTAuMDAgMjEuNjFRMTA4Ljk1IDIxLjA1IDEwOC4zNSAyMC4wNVExMDcuNzUgMTkuMDYgMTA3Ljc1IDE3LjgwWk0xMjEuOTQgMjJMMTE5LjUxIDIyTDEyMy4yMiAxMy42MEwxMjUuNTYgMTMuNjBMMTI5LjI4IDIyTDEyNi44MSAyMkwxMjYuMTUgMjAuMzdMMTIyLjYwIDIwLjM3TDEyMS45NCAyMlpNMTI0LjM3IDE1LjkzTDEyMy4yOSAxOC42MUwxMjUuNDUgMTguNjFMMTI0LjM3IDE1LjkzWk0xMzUuODEgMjJMMTMzLjQzIDIyTDEzMy40MyAxMy42MEwxMzcuMjggMTMuNjBRMTM4LjQxIDEzLjYwIDEzOS4yNSAxMy45OFExNDAuMDkgMTQuMzUgMTQwLjU1IDE1LjA2UTE0MS4wMSAxNS43NiAxNDEuMDEgMTYuNzFMMTQxLjAxIDE2LjcxUTE0MS4wMSAxNy42NiAxNDAuNTUgMTguMzVRMTQwLjA5IDE5LjA1IDEzOS4yNSAxOS40MlExMzguNDEgMTkuODAgMTM3LjI4IDE5LjgwTDEzNy4yOCAxOS44MEwxMzUuODEgMTkuODBMMTM1LjgxIDIyWk0xMzUuODEgMTUuNDdMMTM1LjgxIDE3LjkzTDEzNy4xMyAxNy45M1ExMzcuODYgMTcuOTMgMTM4LjIzIDE3LjYxUTEzOC42MSAxNy4yOSAxMzguNjEgMTYuNzFMMTM4LjYxIDE2LjcxUTEzOC42MSAxNi4xMiAxMzguMjMgMTUuODBRMTM3Ljg2IDE1LjQ3IDEzNy4xMyAxNS40N0wxMzcuMTMgMTUuNDdMMTM1LjgxIDE1LjQ3Wk0xNDcuODkgMTguOTVMMTQ0LjY4IDEzLjYwTDE0Ny4xOSAxMy42MEwxNDkuMTggMTYuOTRMMTUxLjE3IDEzLjYwTDE1My40OCAxMy42MEwxNTAuMjYgMTguOTlMMTUwLjI2IDIyTDE0Ny44OSAyMkwxNDcuODkgMTguOTVaTTE2Mi4xMCAyMkwxNTcuNTYgMjJMMTU3LjU2IDEzLjYwTDE2MS44NiAxMy42MFExNjMuNDcgMTMuNjAgMTY0LjMxIDE0LjE5UTE2NS4xNSAxNC43OSAxNjUuMTUgMTUuNzlMMTY1LjE1IDE1Ljc5UTE2NS4xNSAxNi4zOSAxNjQuODUgMTYuODdRMTY0LjU2IDE3LjM0IDE2NC4wMiAxNy42MkwxNjQuMDIgMTcuNjJRMTY0Ljc0IDE3Ljg3IDE2NS4xNSAxOC40MVExNjUuNTUgMTguOTQgMTY1LjU1IDE5LjcwTDE2NS41NSAxOS43MFExNjUuNTUgMjAuODAgMTY0LjY3IDIxLjQwUTE2My43OCAyMiAxNjIuMTAgMjJMMTYyLjEwIDIyWk0xNTkuOTIgMTguNThMMTU5LjkyIDIwLjI4TDE2MS45MSAyMC4yOFExNjMuMTYgMjAuMjggMTYzLjE2IDE5LjQzTDE2My4xNiAxOS40M1ExNjMuMTYgMTguNTggMTYxLjkxIDE4LjU4TDE2MS45MSAxOC41OEwxNTkuOTIgMTguNThaTTE1OS45MiAxNS4zMUwxNTkuOTIgMTYuOTRMMTYxLjU1IDE2Ljk0UTE2Mi43NSAxNi45NCAxNjIuNzUgMTYuMTJMMTYyLjc1IDE2LjEyUTE2Mi43NSAxNS4zMSAxNjEuNTUgMTUuMzFMMTYxLjU1IDE1LjMxTDE1OS45MiAxNS4zMVpNMTcxLjY5IDIyTDE2OS4yNiAyMkwxNzIuOTcgMTMuNjBMMTc1LjMxIDEzLjYwTDE3OS4wMyAyMkwxNzYuNTYgMjJMMTc1LjkwIDIwLjM3TDE3Mi4zNSAyMC4zN0wxNzEuNjkgMjJaTTE3NC4xMyAxNS45M0wxNzMuMDQgMTguNjFMMTc1LjIwIDE4LjYxTDE3NC4xMyAxNS45M1pNMTg1LjU2IDIyTDE4My4xOCAyMkwxODMuMTggMTMuNjBMMTg3LjAzIDEzLjYwUTE4OC4xNyAxMy42MCAxODkuMDEgMTMuOThRMTg5Ljg1IDE0LjM1IDE5MC4zMCAxNS4wNlExOTAuNzYgMTUuNzYgMTkwLjc2IDE2LjcxTDE5MC43NiAxNi43MVExOTAuNzYgMTcuNjIgMTkwLjMzIDE4LjMwUTE4OS45MCAxOC45OCAxODkuMTEgMTkuMzZMMTg5LjExIDE5LjM2TDE5MC45MiAyMkwxODguMzggMjJMMTg2Ljg2IDE5Ljc3TDE4NS41NiAxOS43N0wxODUuNTYgMjJaTTE4NS41NiAxNS40N0wxODUuNTYgMTcuOTNMMTg2Ljg4IDE3LjkzUTE4Ny42MSAxNy45MyAxODcuOTkgMTcuNjFRMTg4LjM2IDE3LjI5IDE4OC4zNiAxNi43MUwxODguMzYgMTYuNzFRMTg4LjM2IDE2LjEyIDE4Ny45OSAxNS43OVExODcuNjEgMTUuNDcgMTg2Ljg4IDE1LjQ3TDE4Ni44OCAxNS40N0wxODUuNTYgMTUuNDdaTTE5Ni45NyAyMkwxOTQuNTQgMjJMMTk4LjI1IDEzLjYwTDIwMC41OSAxMy42MEwyMDQuMzEgMjJMMjAxLjg0IDIyTDIwMS4xOCAyMC4zN0wxOTcuNjMgMjAuMzdMMTk2Ljk3IDIyWk0xOTkuNDAgMTUuOTNMMTk4LjMyIDE4LjYxTDIwMC40OCAxOC42MUwxOTkuNDAgMTUuOTNaTTIwNy44OCAyMS4yNEwyMDcuODggMjEuMjRMMjA4LjY1IDE5LjQ5UTIwOS4yMiAxOS44NiAyMDkuOTYgMjAuMDlRMjEwLjcxIDIwLjMyIDIxMS40MyAyMC4zMkwyMTEuNDMgMjAuMzJRMjEyLjc5IDIwLjMyIDIxMi44MCAxOS42NEwyMTIuODAgMTkuNjRRMjEyLjgwIDE5LjI4IDIxMi40MSAxOS4xMVEyMTIuMDIgMTguOTMgMjExLjE1IDE4Ljc0TDIxMS4xNSAxOC43NFEyMTAuMjAgMTguNTMgMjA5LjU3IDE4LjMwUTIwOC45MyAxOC4wNiAyMDguNDggMTcuNTVRMjA4LjAyIDE3LjAzIDIwOC4wMiAxNi4xNkwyMDguMDIgMTYuMTZRMjA4LjAyIDE1LjM5IDIwOC40NCAxNC43N1EyMDguODYgMTQuMTUgMjA5LjY5IDEzLjc5UTIxMC41MyAxMy40MyAyMTEuNzQgMTMuNDNMMjExLjc0IDEzLjQzUTIxMi41NiAxMy40MyAyMTMuMzcgMTMuNjJRMjE0LjE3IDEzLjgwIDIxNC43OSAxNC4xN0wyMTQuNzkgMTQuMTdMMjE0LjA2IDE1LjkzUTIxMi44NiAxNS4yOCAyMTEuNzIgMTUuMjhMMjExLjcyIDE1LjI4UTIxMS4wMiAxNS4yOCAyMTAuNjkgMTUuNDlRMjEwLjM3IDE1LjcwIDIxMC4zNyAxNi4wNEwyMTAuMzcgMTYuMDRRMjEwLjM3IDE2LjM3IDIxMC43NiAxNi41NFEyMTEuMTQgMTYuNzEgMjExLjk5IDE2Ljg5TDIxMS45OSAxNi44OVEyMTIuOTUgMTcuMTAgMjEzLjU4IDE3LjMzUTIxNC4yMSAxNy41NiAyMTQuNjcgMTguMDdRMjE1LjEzIDE4LjU4IDIxNS4xMyAxOS40NkwyMTUuMTMgMTkuNDZRMjE1LjEzIDIwLjIxIDIxNC43MiAyMC44M1EyMTQuMzAgMjEuNDQgMjEzLjQ2IDIxLjgwUTIxMi42MiAyMi4xNyAyMTEuNDEgMjIuMTdMMjExLjQxIDIyLjE3UTIxMC4zOSAyMi4xNyAyMDkuNDMgMjEuOTJRMjA4LjQ3IDIxLjY3IDIwNy44OCAyMS4yNFoiIGZpbGw9IiNGRkZGRkYiIHg9IjEwNi45OSIvPjwvc3ZnPg==)](https://forthebadge.com)
#### Prerequisities
- Node>=14
- Postgres database (there is possibility to deploy capyAuth using docker-compose)
#### Env file
```
ACCESS_TOKEN_SECRET=secr3t
ACCESS_TOKEN_EXPIRATION=3600 - see https://www.npmjs.com/package/jsonwebtoken
REFRESH_TOKEN_SECRET=secr4t
REFRESH_TOKEN_EXPIRATION=1d - see https://www.npmjs.com/package/jsonwebtoken
PORT=5467
DB_HOST=127.0.0.1
DB_USER=user
DB_PASSWORD=supersecretpassword
DB_NAME=postgres
DB_DIALECT=postgres (sequelize dialect)
```
#### Installation
  - Simple installation:
  `npm i` or `yarn`
  `npm start` or `yarn start`
  - Docker installation:
  `docker-compose --env-file path/to/.env up` - for deploying whole app as one, with postgres DB
  `docker build --tag <name> .` - for standalone deployment 
#### Use-case
<img src='https://imgur.com/Q4oxyF2' alt='capyauth use case'><br/>
#### TODO
 - tests
 - Github actions for pushing newest main branch to dockerhub
 - reseting password
#### License - LGPL-2.1
